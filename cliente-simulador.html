<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador de Crédito | Marlen Guzmán</title>
    <meta name="description" content="Simula tu crédito hipotecario con valores actualizados en UF.">
    <link rel="icon" href="Logo_MG.jpeg" type="image/jpeg">
    <link
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Inter:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="css/client-sidebar.css">

    <style>
        :root {
            --gold: #bfa378;
            --gold-light: #d4b88f;
            --dark: #3e3632;
            --cream: #f9f7f2;
            --white: #ffffff;
            --text: #594a42;
            --border: rgba(191, 163, 120, 0.2);
        }

        .sim-wrapper {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px 0 60px;
        }

        /* Page Header */
        .page-header {
            margin-bottom: 30px;
        }

        .page-header .overline {
            font-family: 'Inter', sans-serif;
            font-size: 0.78rem;
            letter-spacing: 2px;
            color: var(--gold);
            text-transform: uppercase;
            font-weight: 600;
        }

        .page-header h1 {
            font-family: 'Playfair Display', serif;
            font-size: 2rem;
            color: var(--dark);
            margin: 6px 0 10px;
        }

        .page-header p {
            font-family: 'Inter', sans-serif;
            color: #999;
            font-size: 0.95rem;
        }

        /* UF Banner */
        .uf-banner {
            background: linear-gradient(135deg, var(--dark) 0%, #5a4a3f 100%);
            border-radius: 14px;
            padding: 18px 25px;
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 28px;
            flex-wrap: wrap;
            box-shadow: 0 8px 25px rgba(62, 54, 50, 0.2);
        }

        .uf-item {
            display: flex;
            flex-direction: column;
            gap: 2px;
            padding-right: 20px;
            border-right: 1px solid rgba(255, 255, 255, 0.1);
        }

        .uf-item:last-child {
            border-right: none;
            padding-right: 0;
        }

        .uf-label {
            font-family: 'Inter', sans-serif;
            font-size: 0.72rem;
            color: rgba(255, 255, 255, 0.5);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .uf-val {
            font-family: 'Inter', sans-serif;
            font-size: 1.15rem;
            font-weight: 700;
            color: var(--gold-light);
        }

        /* Layout */
        .sim-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
        }

        .sim-panel {
            background: var(--white);
            border-radius: 16px;
            padding: 28px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.06);
            border: 1px solid var(--border);
        }

        .sim-panel-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.1rem;
            color: var(--dark);
            margin-bottom: 22px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .sim-panel-title i {
            color: var(--gold);
        }

        /* Form fields */
        .field-group {
            margin-bottom: 20px;
        }

        .field-group label {
            display: block;
            font-family: 'Inter', sans-serif;
            font-size: 0.82rem;
            font-weight: 600;
            color: var(--text);
            margin-bottom: 7px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .field-group .hint {
            font-size: 0.75rem;
            color: #bbb;
            font-weight: 400;
            text-transform: none;
            letter-spacing: 0;
        }

        .field-input {
            position: relative;
        }

        .field-input span.prefix {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            font-family: 'Inter', sans-serif;
            font-size: 0.9rem;
            color: var(--gold);
            font-weight: 600;
            pointer-events: none;
        }

        .field-input input,
        .field-input select {
            width: 100%;
            padding: 12px 14px 12px 36px;
            border: 1.5px solid #e8e0d6;
            border-radius: 10px;
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            color: var(--dark);
            background: var(--cream);
            outline: none;
            transition: border-color 0.2s, box-shadow 0.2s;
            box-sizing: border-box;
        }

        .field-input.no-prefix input,
        .field-input.no-prefix select {
            padding-left: 14px;
        }

        .field-input input:focus,
        .field-input select:focus {
            border-color: var(--gold);
            box-shadow: 0 0 0 3px rgba(191, 163, 120, 0.15);
        }

        /* Range slider */
        .range-row {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-top: 8px;
        }

        input[type=range] {
            flex: 1;
            -webkit-appearance: none;
            height: 6px;
            border-radius: 3px;
            background: #e8e0d6;
            outline: none;
        }

        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--gold);
            cursor: pointer;
            box-shadow: 0 2px 6px rgba(191, 163, 120, 0.5);
        }

        .range-val {
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            font-weight: 700;
            color: var(--gold);
            min-width: 45px;
            text-align: right;
        }

        /* Calc button */
        .btn-calcular {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, var(--gold), var(--gold-light));
            color: var(--dark);
            font-family: 'Inter', sans-serif;
            font-weight: 700;
            font-size: 1rem;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            letter-spacing: 0.5px;
            transition: transform 0.2s, box-shadow 0.2s;
            box-shadow: 0 4px 15px rgba(191, 163, 120, 0.4);
            margin-top: 8px;
        }

        .btn-calcular:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(191, 163, 120, 0.5);
        }

        .btn-calcular:active {
            transform: translateY(0);
        }

        /* Results */
        .result-main {
            background: linear-gradient(135deg, var(--dark) 0%, #5a4a3f 100%);
            border-radius: 14px;
            padding: 25px;
            text-align: center;
            margin-bottom: 20px;
        }

        .result-main .result-label {
            font-family: 'Inter', sans-serif;
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.6);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 8px;
        }

        .result-main .result-value {
            font-family: 'Playfair Display', serif;
            font-size: 2.5rem;
            color: var(--gold-light);
            font-weight: 700;
            line-height: 1;
        }

        .result-main .result-sub {
            font-family: 'Inter', sans-serif;
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.5);
            margin-top: 8px;
        }

        .result-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-bottom: 20px;
        }

        .result-item {
            background: var(--cream);
            border-radius: 10px;
            padding: 14px 16px;
            border: 1px solid var(--border);
        }

        .result-item .ri-label {
            font-family: 'Inter', sans-serif;
            font-size: 0.75rem;
            color: #aaa;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 4px;
        }

        .result-item .ri-value {
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            font-weight: 700;
            color: var(--dark);
        }

        /* Amortización table */
        .amort-table {
            width: 100%;
            border-collapse: collapse;
            font-family: 'Inter', sans-serif;
            font-size: 0.82rem;
        }

        .amort-table th {
            background: var(--cream);
            padding: 8px 12px;
            text-align: right;
            color: #999;
            font-weight: 600;
            font-size: 0.75rem;
            text-transform: uppercase;
            border-bottom: 1px solid var(--border);
        }

        .amort-table th:first-child {
            text-align: center;
        }

        .amort-table td {
            padding: 8px 12px;
            text-align: right;
            color: var(--text);
            border-bottom: 1px solid #f5f5f5;
        }

        .amort-table td:first-child {
            text-align: center;
            color: #bbb;
        }

        .amort-table tbody tr:hover {
            background: #fdf9f4;
        }

        .amort-scroll {
            max-height: 260px;
            overflow-y: auto;
            border-radius: 10px;
            border: 1px solid var(--border);
        }

        /* Disclaimer */
        .disclaimer {
            background: rgba(191, 163, 120, 0.08);
            border: 1px solid var(--border);
            border-radius: 10px;
            padding: 14px 16px;
            font-family: 'Inter', sans-serif;
            font-size: 0.8rem;
            color: #aaa;
            line-height: 1.5;
            margin-top: 20px;
        }

        .disclaimer i {
            color: var(--gold);
            margin-right: 5px;
        }

        /* CTA */
        .cta-card {
            background: linear-gradient(135deg, rgba(191, 163, 120, 0.1), rgba(191, 163, 120, 0.05));
            border: 1px solid var(--border);
            border-radius: 14px;
            padding: 22px;
            text-align: center;
            margin-top: 22px;
        }

        .cta-card h4 {
            font-family: 'Playfair Display', serif;
            font-size: 1.1rem;
            color: var(--dark);
            margin-bottom: 8px;
        }

        .cta-card p {
            font-family: 'Inter', sans-serif;
            font-size: 0.85rem;
            color: #999;
            margin-bottom: 14px;
        }

        .btn-cta {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: #25D366;
            color: #fff;
            padding: 11px 22px;
            border-radius: 10px;
            font-family: 'Inter', sans-serif;
            font-weight: 600;
            font-size: 0.9rem;
            text-decoration: none;
            transition: background 0.2s;
        }

        .btn-cta:hover {
            background: #1ebe59;
            color: #fff;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .sim-layout {
                grid-template-columns: 1fr;
            }

            .result-main .result-value {
                font-size: 2rem;
            }
        }
    </style>
</head>

<body data-page="client-simulador">
    <div class="sidebar"></div>

    <div class="main-content">
        <div class="sim-wrapper container">

            <!-- Header -->
            <div class="page-header">
                <span class="overline">Herramienta financiera</span>
                <h1><i class="fas fa-calculator"
                        style="color:var(--gold);font-size:0.9em;margin-right:8px;"></i>Simulador de Crédito Hipotecario
                </h1>
                <p>Calcula tu dividendo mensual estimado con valores de UF actualizados en tiempo real.</p>
            </div>

            <!-- UF Banner -->
            <div class="uf-banner">
                <div class="uf-item">
                    <div class="uf-label">Valor UF Hoy</div>
                    <div class="uf-val" id="banner-uf">Cargando...</div>
                </div>
                <div class="uf-item">
                    <div class="uf-label">Dólar</div>
                    <div class="uf-val" id="banner-dolar">—</div>
                </div>
                <div class="uf-item">
                    <div class="uf-label">UTM</div>
                    <div class="uf-val" id="banner-utm">—</div>
                </div>
                <div class="uf-item" style="margin-left:auto; flex-direction:row; align-items:center; gap:6px;">
                    <i class="fas fa-circle" style="color:#10b981; font-size:0.5rem;"></i>
                    <span class="uf-label" style="font-size:0.68rem;">Actualizado: <span
                            id="banner-fecha">—</span></span>
                </div>
            </div>

            <!-- Layout -->
            <div class="sim-layout">

                <!-- ── Panel Izquierdo: Formulario ── -->
                <div class="sim-panel">
                    <div class="sim-panel-title">
                        <i class="fas fa-sliders-h"></i>
                        Parámetros del Crédito
                    </div>

                    <div class="field-group">
                        <label>Valor de la propiedad <span class="hint">(UF o CLP)</span></label>
                        <div style="display:flex;gap:8px;">
                            <div class="field-input" style="flex:1;">
                                <span class="prefix" id="prefix-valor">UF</span>
                                <input type="number" id="valor-propiedad" value="3500" min="100" step="100">
                            </div>
                            <select id="moneda-valor"
                                style="width:80px;padding:12px 8px;border:1.5px solid #e8e0d6;border-radius:10px;font-family:'Inter',sans-serif;background:var(--cream);color:var(--dark);outline:none;cursor:pointer;">
                                <option value="uf">UF</option>
                                <option value="clp">CLP</option>
                            </select>
                        </div>
                    </div>

                    <div class="field-group">
                        <label>Pie pagado <span class="hint">(% del valor)</span></label>
                        <div class="range-row">
                            <input type="range" id="pie-slider" min="10" max="50" value="20" step="5">
                            <span class="range-val" id="pie-label">20%</span>
                        </div>
                        <div style="font-family:'Inter',sans-serif;font-size:0.8rem;color:#bbb;margin-top:4px;">
                            Monto del pie: <strong id="pie-valor" style="color:var(--gold);">—</strong>
                        </div>
                    </div>

                    <div class="field-group">
                        <label>Plazo del crédito</label>
                        <div class="field-input no-prefix">
                            <select id="plazo">
                                <option value="10">10 años (120 cuotas)</option>
                                <option value="15">15 años (180 cuotas)</option>
                                <option value="20" selected>20 años (240 cuotas)</option>
                                <option value="25">25 años (300 cuotas)</option>
                                <option value="30">30 años (360 cuotas)</option>
                            </select>
                        </div>
                    </div>

                    <div class="field-group">
                        <label>Tasa de interés anual <span class="hint">(%)</span></label>
                        <div class="range-row">
                            <input type="range" id="tasa-slider" min="2" max="8" value="4.5" step="0.1">
                            <span class="range-val" id="tasa-label">4.5%</span>
                        </div>
                        <div style="font-family:'Inter',sans-serif;font-size:0.75rem;color:#bbb;margin-top:4px;">
                            Tasa referencial BancoEstado/Chile: ~4.0% – 5.5% (febrero 2025)
                        </div>
                    </div>

                    <div class="field-group">
                        <label>Tipo de crédito</label>
                        <div class="field-input no-prefix">
                            <select id="tipo-credito">
                                <option value="frances" selected>Francés (cuota fija)</option>
                                <option value="aleman">Alemán (capital fijo)</option>
                            </select>
                        </div>
                    </div>

                    <button class="btn-calcular" onclick="calcular()">
                        <i class="fas fa-calculator"></i> &nbsp;Calcular Dividendo
                    </button>
                </div>

                <!-- ── Panel Derecho: Resultados ── -->
                <div class="sim-panel">
                    <div class="sim-panel-title">
                        <i class="fas fa-chart-pie"></i>
                        Resultado Estimado
                    </div>

                    <!-- Resultado principal -->
                    <div class="result-main">
                        <div class="result-label">Dividendo mensual estimado</div>
                        <div class="result-value" id="res-dividendo">$—</div>
                        <div class="result-sub" id="res-dividendo-uf">— UF / mes</div>
                    </div>

                    <!-- Detalle -->
                    <div class="result-grid">
                        <div class="result-item">
                            <div class="ri-label">Monto del crédito</div>
                            <div class="ri-value" id="res-credito">—</div>
                        </div>
                        <div class="result-item">
                            <div class="ri-label">Interés total</div>
                            <div class="ri-value" id="res-interes">—</div>
                        </div>
                        <div class="result-item">
                            <div class="ri-label">Costo total</div>
                            <div class="ri-value" id="res-total">—</div>
                        </div>
                        <div class="result-item">
                            <div class="ri-label">N° de cuotas</div>
                            <div class="ri-value" id="res-cuotas">—</div>
                        </div>
                    </div>

                    <!-- Tabla de amortización (primeras cuotas) -->
                    <div class="sim-panel-title" style="font-size:0.95rem;margin-bottom:10px;">
                        <i class="fas fa-table"></i>
                        Primeras cuotas
                    </div>
                    <div class="amort-scroll">
                        <table class="amort-table">
                            <thead>
                                <tr>
                                    <th>N°</th>
                                    <th>Cuota</th>
                                    <th>Capital</th>
                                    <th>Interés</th>
                                    <th>Saldo</th>
                                </tr>
                            </thead>
                            <tbody id="amort-body">
                                <tr>
                                    <td colspan="5" style="text-align:center;color:#bbb;padding:20px;">Presiona
                                        "Calcular" para ver la tabla</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- CTA -->
                    <div class="cta-card">
                        <h4>¿Listo para dar el paso?</h4>
                        <p>Habla con tu ejecutivo asignado para obtener las mejores condiciones del mercado.</p>
                        <a href="https://wa.me/56952286689?text=Hola%2C%20quiero%20más%20información%20sobre%20crédito%20hipotecario"
                            target="_blank" rel="noopener" class="btn-cta">
                            <i class="fab fa-whatsapp"></i> Hablar con ejecutivo
                        </a>
                    </div>

                    <div class="disclaimer">
                        <i class="fas fa-info-circle"></i>
                        Esta simulación es de carácter informativo. Los valores reales dependen de la evaluación
                        crediticia,
                        tasas vigentes, seguros y comisiones de cada institución financiera.
                    </div>
                </div>
            </div>
        </div>

        <div id="footer-placeholder"></div>
    </div>

    <script src="js/client-sidebar.js"></script>
    <script src="cargador.js"></script>
    <script type="module" src="script.js"></script>

    <script>
        // ── Estado global ─────────────────────────────────────────────────
        let valorUF = 37000; // Fallback

        // ── Cargar indicadores ────────────────────────────────────────────
        fetch('/api/indicadores')
            .then(r => r.json())
            .then(data => {
                valorUF = data.uf || 37000;
                const fmtCLP = n => `$${Number(n).toLocaleString('es-CL', { maximumFractionDigits: 0 })}`;
                const fmtUF = n => `$${Number(n).toLocaleString('es-CL', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;
                const el = id => document.getElementById(id);

                if (el('banner-uf')) el('banner-uf').textContent = fmtUF(data.uf);
                if (el('banner-dolar')) el('banner-dolar').textContent = fmtCLP(data.dolar);
                if (el('banner-utm')) el('banner-utm').textContent = fmtCLP(data.utm);
                if (data.fecha && el('banner-fecha')) {
                    el('banner-fecha').textContent = new Date(data.fecha).toLocaleDateString('es-CL');
                }
                actualizarPie(); // Recalcular con UF real
            })
            .catch(() => actualizarPie());

        // ── Sliders ───────────────────────────────────────────────────────
        document.getElementById('pie-slider').addEventListener('input', function () {
            document.getElementById('pie-label').textContent = this.value + '%';
            actualizarPie();
        });
        document.getElementById('tasa-slider').addEventListener('input', function () {
            document.getElementById('tasa-label').textContent = parseFloat(this.value).toFixed(1) + '%';
        });
        document.getElementById('moneda-valor').addEventListener('change', function () {
            document.getElementById('prefix-valor').textContent = this.value === 'uf' ? 'UF' : '$';
            actualizarPie();
        });
        document.getElementById('valor-propiedad').addEventListener('input', actualizarPie);

        function actualizarPie() {
            const raw = parseFloat(document.getElementById('valor-propiedad').value) || 0;
            const moneda = document.getElementById('moneda-valor').value;
            const porPie = parseInt(document.getElementById('pie-slider').value) / 100;
            const valorCLP = moneda === 'uf' ? raw * valorUF : raw;
            const pieUF = (valorCLP * porPie) / valorUF;
            const pieCLP = valorCLP * porPie;

            document.getElementById('pie-valor').textContent =
                `UF ${pieUF.toLocaleString('es-CL', { maximumFractionDigits: 0 })} ≈ $${Math.round(pieCLP).toLocaleString('es-CL')}`;
        }
        actualizarPie();

        // ── Cálculo principal ─────────────────────────────────────────────
        function calcular() {
            const raw = parseFloat(document.getElementById('valor-propiedad').value) || 0;
            const moneda = document.getElementById('moneda-valor').value;
            const piePct = parseInt(document.getElementById('pie-slider').value) / 100;
            const plazoAnos = parseInt(document.getElementById('plazo').value);
            const tasaAnual = parseFloat(document.getElementById('tasa-slider').value) / 100;
            const tipo = document.getElementById('tipo-credito').value;

            const valorCLP = moneda === 'uf' ? raw * valorUF : raw;
            const pieCLP = valorCLP * piePct;
            const creditoCLP = valorCLP - pieCLP;
            const creditoUF = creditoCLP / valorUF;

            const n = plazoAnos * 12;
            const tasaMens = tasaAnual / 12;

            let dividendoCLP = 0;

            if (tipo === 'frances') {
                // Cuota fija: C = P * (r * (1+r)^n) / ((1+r)^n - 1)
                if (tasaMens === 0) {
                    dividendoCLP = creditoCLP / n;
                } else {
                    const factor = Math.pow(1 + tasaMens, n);
                    dividendoCLP = creditoCLP * (tasaMens * factor) / (factor - 1);
                }
            } else {
                // Alemán: primer cuota (la más alta)
                const capitalMens = creditoCLP / n;
                dividendoCLP = capitalMens + creditoCLP * tasaMens;
            }

            const dividendoUF = dividendoCLP / valorUF;
            const totalPagarCL = tipo === 'frances' ? dividendoCLP * n : calcTotalAleman(creditoCLP, n, tasaMens);
            const interesTotal = totalPagarCL - creditoCLP;

            // ── Mostrar resultados ──────────────────────────────────────
            const fmtCLP = n => `$${Math.round(n).toLocaleString('es-CL')}`;
            const fmtUF2 = n => `UF ${n.toLocaleString('es-CL', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;
            const el = id => document.getElementById(id);

            el('res-dividendo').textContent = fmtCLP(dividendoCLP);
            el('res-dividendo-uf').textContent = fmtUF2(dividendoUF) + ' / mes';
            el('res-credito').textContent = fmtCLP(creditoCLP);
            el('res-interes').textContent = fmtCLP(interesTotal);
            el('res-total').textContent = fmtCLP(totalPagarCL);
            el('res-cuotas').textContent = `${n} cuotas`;

            // ── Tabla de amortización (primeras 12 cuotas) ──────────────
            generarTablaAmort(creditoCLP, n, tasaMens, tipo);
        }

        function calcTotalAleman(creditoCLP, n, tasaMens) {
            const capMens = creditoCLP / n;
            let total = 0;
            let saldo = creditoCLP;
            for (let i = 0; i < n; i++) {
                const interes = saldo * tasaMens;
                total += capMens + interes;
                saldo -= capMens;
            }
            return total;
        }

        function generarTablaAmort(credito, n, tasaMens, tipo) {
            const tbody = document.getElementById('amort-body');
            tbody.innerHTML = '';
            const fmtCLP = v => `$${Math.round(v).toLocaleString('es-CL')}`;

            let saldo = credito;
            const capMens = credito / n;
            const muestra = Math.min(n, 12);

            let cuotaFrances = 0;
            if (tipo === 'frances' && tasaMens > 0) {
                const factor = Math.pow(1 + tasaMens, n);
                cuotaFrances = credito * (tasaMens * factor) / (factor - 1);
            } else if (tipo === 'frances') {
                cuotaFrances = credito / n;
            }

            for (let i = 1; i <= muestra; i++) {
                const interes = saldo * tasaMens;
                let capital, cuota;
                if (tipo === 'frances') {
                    cuota = cuotaFrances;
                    capital = cuota - interes;
                } else {
                    capital = capMens;
                    cuota = capital + interes;
                }
                saldo = Math.max(0, saldo - capital);

                const tr = document.createElement('tr');
                tr.innerHTML = `
                <td>${i}</td>
                <td>${fmtCLP(cuota)}</td>
                <td>${fmtCLP(capital)}</td>
                <td>${fmtCLP(interes)}</td>
                <td>${fmtCLP(saldo)}</td>
            `;
                tbody.appendChild(tr);
            }

            if (n > 12) {
                const tr = document.createElement('tr');
                tr.innerHTML = `<td colspan="5" style="text-align:center;color:#bbb;font-style:italic;padding:10px;">... ${n - 12} cuotas más hasta la cuota ${n}</td>`;
                tbody.appendChild(tr);
            }
        }

        // Calcular al cargar con valores default
        window.addEventListener('load', calcular);
    </script>
</body>

</html>